# 面试

#### 输入完网址按下回车，到看到网页这个过程中发生了什么

```
请求响应的流程：
  1 解析URL，解析域名生成唯一IP地址，开始搜索服务器
  2 找到服务器后，服务器接收请求被服务器进程拦截；一般而言，.net的程序会被IIS处理，java会被jBoss或者tomcat处理
  3 服务器处理请求，如果静态文件的话直接返回，若是.net或者java等动态脚本会经过服务器编译，执行其中的服务器端代码
  4 若是服务器端具有数据库操作的话，这里还需要与DB建立连接，操作数据库
  5 服务器处理结束后，生成最终的静态HTML字符串返回，开始向请求者（客户端）返回请求字符串，一次返回量过大就会分批次，这是一个优化点
  6 服务器响应到达浏览器，浏览器开始处理请求，进入浏览器解析流程
响应之后：
  浏览器会解析HTML生成DOM Tree，其次会根据CSS生成CSS Rule Tree，而javascript又可以根据DOM API操作DOM。
```

#### 常见css兼容

```
1. 不同浏览器的标签默认的外补丁和内补丁不同.
解决方案：*{margin:0;padding:0;}

2. IE6双边距bug.
解决方案：在float的标签样式控制中加入 display:inline;将其转化为行内属性

3. IE6标签最小高度设置min-height不兼容.
解决方案：如果我们要设置一个标签的最小高度200px，需要进行的设置为：{min-height:200px; height:auto !important; height:200px; overflow:visible;}

4. 透明度的兼容css设置.
解决方案：使用IE6当中的滤镜filter替代掉，如：opacity:0.6;filter:alpha(opacity=60)。

5. img外部有a标签,IE6-IE9中img外面会出现border.
解决方案：设置img边框border:0;

6. IE6空div默认行高.
解决方案：设置其高度为0，并设置overflow:hidden

7. input聚焦框颜色与样式不同.
解决方案：使用outline：none，清除默认样式之后再统一设置

8. 条件注释法（一般使用在IE6-IE9）
如  <!--[if IE 6]>
     这段文字只在IE6浏览器显示
    <![endif]-->
    
9. 属性前缀法
如 #selector{
      -color: red;    　　 /* 减号和下划线是IE6专有的hack */
      color：blue\9;   　　/* \9 IE6-IE10都生效 */
      color: pink\0;  　　 /* \0 IE8-IE11生效 */
      color: green\9\0;　　/* \9\0 IE9和IE10生效 */ 
      *color: yellow;　　  /* [.*+<>] IE6-IE7生效 */
   }

10. 选择器前缀法
如 *+html selector{color:blue;} 　　　/* *+html前缀只支持IE7 */

不管是什么方法，书写的顺序都是firefox的写在前面，IE7的写在中间，IE6的写在最后面
```



#### 常见js兼容

```
1. window.event.
解决方案:  e = e || window.event

2. IE下,e对象有x,y属性,但是没有pageX,pageY属性;Firefox下,e对象有pageX,pageY属性,但是没有x,y属性.
解决方案:  X = e.x || e.pageX

3. IE下,e对象有srcElement属性,但是没有target属性;Firefox下,e对象有target属性,但是没有srcElement属性.
解决方案:  target = e.target || e.srcElement

4. 阻止事件默认行为.
解决方案: if (isIE) {
            e.returnValue = false;
         } else {
            e.preventDefault();
         } 
  
5. 停止事件冒泡或捕获.
解决方案: if (isIE) {
            e.cancelBubble = true;
         } else {
            e.stopPropagation();
         } 
         
6. 绑定事件.   
解决方案： addHandler: function(element, type, handler) {
            if (element.addEventListener)
              element.addEventListener(type, handler, false)
            else if (element.attachEvent) element.attachEvent('on' + type, handler)
            else element['on' + type] = handler
          }
          
7. 获取滚动条距离.     
解决方案： var scrollTop= document.documentElement.scrollTop || document.body.scrollTop

8. 获取行外样式.
解决方案： funtion getStyle(obj,name){
             if(obj.currentStyle){
                return obj.currentStyle[name];
             }else{
                return getComputedStyle(obj,false)[name];
             }
          }
```



#### Sass与Less区别 

```
1. 编译环境
   Sass需要安装Ruby，属于服务端处理，然而Less是需要引入官网提供和的less.js，属于客户端处理
   
2. 变量声明
   Sass/Scss 使用的是$,而Less使用的是@

3. 输出格式
   Less无输出格式，Sass可以使用特定的输出格式
   nested：嵌套缩进的css代码
   expanded：展开的多行css代码
   compact：简洁格式的css代码
   compressed：压缩后的css代码
   
4. 混合不同 Mixins
    sass样式中声明Mixins时需要使用“@mixin”，然后后面紧跟Mixins的名，他也可以定义参数，同时可以给这个参数设置一个默认值，但参数名是使用“$”符号开始，而且和参数值之间需要使用冒号（：）分开。
    使用时用@include demo()

    less样式中声明更像CSS定义样式，在less可以将Mixins看成是一个类选择器，当然 Mixins也可以设置参数，并给参数设置默认值。不过设置参数的变量名是使用“@”开头，同样参数和默认参数值之间需要使用冒号（：）分 隔开。
    使用时用.demo()


5. 继承
   sass: @extend .demo
   less: .demo	
   
6. 其他
   Sass支持条件语句，可以使用@if{}@else{},@for{}循环等等。而Less不支持。
```



#### vue在app首次加载缓慢的解决办法

```
1.路由懒加载；
2.组件异步加载；
3.图片懒加载；
4.使用externals；
5.cdn加速。
```



#### 简单实现深拷贝

```javascript
function deepClone(initalObj, target) {    
  var obj = target || {};    
  for (var i in initalObj) {        
    var prop = initalObj[i];        // 避免相互引用对象导致死循环
    if(prop === obj) continue;
    if (typeof prop === 'object') {
      obj[i] = (prop.constructor === Array) ? [] : {};            
      arguments.callee(prop, obj[i]);
    } else {
      obj[i] = prop;
    }
  }    
  return obj;
}
```



#### 实现无限层级下拉菜单

// /game /music /chat /pic_cut /hack_news
